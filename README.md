# Blog Platform API

Это бэкенд-приложение для упрощенной блог-платформы, разработанное в рамках лабораторной работы. Приложение предоставляет RESTful API для управления пользователями, статьями и комментариями.

## Технологический стек

- **Python 3.11**
- **FastAPI**: веб-фреймворк
- **SQLAlchemy**: ORM для работы с базой данных
- **Alembic**: для миграций базы данных
- **PostgreSQL**: реляционная база данных
- **Pydantic**: для валидации данных
- **python-jose**: для JWT аутентификации
- **Docker & Docker Compose**: для контейнеризации

---

## Запуск проекта

### 1. Клонирование репозитория

```bash
git clone <URL вашего репозитория>
cd <название папки>
```

### 2. Переменные окружения

Создайте файл `.env` в корне проекта и скопируйте в него содержимое ниже. **Обязательно замените `SECRET_KEY` на ваш собственный секретный ключ!**

```env
# URL для подключения к базе данных
DATABASE_URL=postgresql+asyncpg://admin:admin@db:5432/mydatabase

# Настройки JWT
SECRET_KEY=your-super-secret-key-change-it-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
```

### 3. Запуск с помощью Docker Compose

Убедитесь, что у вас установлен и запущен Docker. Выполните команду:

```bash
docker-compose up --build
```

Приложение будет доступно по адресу `http://localhost:8000`.

### 4. Применение миграций (при первом запуске)

После запуска контейнеров, откройте новый терминал и выполните команду, чтобы применить миграции к базе данных:

```bash
docker-compose exec app python -m alembic upgrade head
```

---

## Документация API

Интерактивная документация Swagger UI доступна по адресу `http://localhost:8000/docs` после запуска приложения.

### Основные эндпоинты:

#### Пользователи (`/api`)
- `POST /users`: Регистрация нового пользователя.
- `POST /users/login`: Аутентификация и получение JWT токена.
- `GET /user`: Получение информации о текущем пользователе (требуется аутентификация).
- `PUT /user`: Обновление информации о текущем пользователе (требуется аутентификация).

#### Статьи (`/api/articles`)
- `POST /`: Создание новой статьи (требуется аутентификация).
- `GET /`: Получение списка статей.
- `GET /{slug}`: Получение статьи по ее `slug`.
- `PUT /{slug}`: Обновление статьи (требуется аутентификация и авторство).
- `DELETE /{slug}`: Удаление статьи (требуется аутентификация и авторство).

#### Комментарии (`/api/articles/{slug}/comments`)
- `POST /`: Добавление комментария к статье (требуется аутентификация).
- `GET /`: Получение списка комментариев к статье.
- `DELETE /{comment_id}`: Удаление комментария (требуется аутентификация и авторство).

---

## Развернутое приложение

- **URL приложения:** [Вставить ссылку сюда]
- **Swagger UI:** [Вставить ссылку на Swagger сюда]
